// Generated by ./scripts/test.py:
//
// ./scripts/test.py -c tests/test_badblocks.toml -o tests/test_badblocks.t.a.c
//

#include "runners/test_runner.h"

#ifndef BADBLOCK_BEHAVIOR
#define BADBLOCK_BEHAVIOR_i      TEST_IMPLICIT_DEFINE_COUNT+0
#define BADBLOCK_BEHAVIOR        TEST_DEFINE(BADBLOCK_BEHAVIOR_i)
#endif
#ifndef ERASE_COUNT
#define ERASE_COUNT_i            TEST_IMPLICIT_DEFINE_COUNT+1
#define ERASE_COUNT              TEST_DEFINE(ERASE_COUNT_i)
#endif
#ifndef ERASE_CYCLES
#define ERASE_CYCLES_i           TEST_IMPLICIT_DEFINE_COUNT+2
#define ERASE_CYCLES             TEST_DEFINE(ERASE_CYCLES_i)
#endif
#ifndef ERASE_VALUE
#define ERASE_VALUE_i            TEST_IMPLICIT_DEFINE_COUNT+3
#define ERASE_VALUE              TEST_DEFINE(ERASE_VALUE_i)
#endif
#ifndef FILEMULT
#define FILEMULT_i               TEST_IMPLICIT_DEFINE_COUNT+4
#define FILEMULT                 TEST_DEFINE(FILEMULT_i)
#endif
#ifndef NAMEMULT
#define NAMEMULT_i               TEST_IMPLICIT_DEFINE_COUNT+5
#define NAMEMULT                 TEST_DEFINE(NAMEMULT_i)
#endif

intmax_t __test__test_badblocks_single__BADBLOCK_BEHAVIOR__0(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_PROGERROR;
}

intmax_t __test__test_badblocks_single__ERASE_COUNT__0(__attribute__((unused)) void *data) {
    return 256;
}

intmax_t __test__test_badblocks_single__ERASE_CYCLES__0(__attribute__((unused)) void *data) {
    return 4294967295;
}

intmax_t __test__test_badblocks_single__ERASE_VALUE__0(__attribute__((unused)) void *data) {
    return 0;
}

intmax_t __test__test_badblocks_single__FILEMULT__0(__attribute__((unused)) void *data) {
    return 1;
}

intmax_t __test__test_badblocks_single__NAMEMULT__0(__attribute__((unused)) void *data) {
    return 64;
}

intmax_t __test__test_badblocks_single__ERASE_VALUE__1(__attribute__((unused)) void *data) {
    return 255;
}

intmax_t __test__test_badblocks_single__ERASE_VALUE__2(__attribute__((unused)) void *data) {
    return -1;
}

intmax_t __test__test_badblocks_single__BADBLOCK_BEHAVIOR__3(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_ERASEERROR;
}

intmax_t __test__test_badblocks_single__BADBLOCK_BEHAVIOR__6(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_READERROR;
}

intmax_t __test__test_badblocks_single__BADBLOCK_BEHAVIOR__9(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_PROGNOOP;
}

intmax_t __test__test_badblocks_single__BADBLOCK_BEHAVIOR__12(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_ERASENOOP;
}

const test_define_t __test__test_badblocks_single__defines[][TEST_IMPLICIT_DEFINE_COUNT+6] = {
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_single__BADBLOCK_BEHAVIOR__0, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_single__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_single__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_single__ERASE_VALUE__0, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_single__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_single__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_single__BADBLOCK_BEHAVIOR__0, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_single__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_single__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_single__ERASE_VALUE__1, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_single__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_single__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_single__BADBLOCK_BEHAVIOR__0, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_single__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_single__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_single__ERASE_VALUE__2, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_single__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_single__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_single__BADBLOCK_BEHAVIOR__3, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_single__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_single__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_single__ERASE_VALUE__0, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_single__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_single__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_single__BADBLOCK_BEHAVIOR__3, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_single__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_single__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_single__ERASE_VALUE__1, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_single__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_single__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_single__BADBLOCK_BEHAVIOR__3, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_single__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_single__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_single__ERASE_VALUE__2, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_single__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_single__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_single__BADBLOCK_BEHAVIOR__6, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_single__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_single__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_single__ERASE_VALUE__0, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_single__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_single__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_single__BADBLOCK_BEHAVIOR__6, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_single__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_single__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_single__ERASE_VALUE__1, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_single__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_single__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_single__BADBLOCK_BEHAVIOR__6, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_single__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_single__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_single__ERASE_VALUE__2, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_single__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_single__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_single__BADBLOCK_BEHAVIOR__9, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_single__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_single__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_single__ERASE_VALUE__0, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_single__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_single__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_single__BADBLOCK_BEHAVIOR__9, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_single__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_single__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_single__ERASE_VALUE__1, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_single__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_single__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_single__BADBLOCK_BEHAVIOR__9, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_single__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_single__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_single__ERASE_VALUE__2, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_single__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_single__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_single__BADBLOCK_BEHAVIOR__12, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_single__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_single__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_single__ERASE_VALUE__0, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_single__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_single__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_single__BADBLOCK_BEHAVIOR__12, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_single__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_single__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_single__ERASE_VALUE__1, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_single__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_single__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_single__BADBLOCK_BEHAVIOR__12, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_single__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_single__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_single__ERASE_VALUE__2, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_single__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_single__NAMEMULT__0, NULL},
    },
};

bool __test__test_badblocks_single__filter(void) {
    return ((int32_t)BLOCK_CYCLES == -1);
}

void __test__test_badblocks_single__run(__attribute__((unused)) struct lfs_config *cfg) {
    // test case test_badblocks_single
    #line 18 "tests/test_badblocks.toml"
    for (lfs_block_t badblock = 2; badblock < BLOCK_COUNT; badblock++) {
        lfs_emubd_setwear(cfg, badblock-1, 0) => 0;
        lfs_emubd_setwear(cfg, badblock, 0xffffffff) => 0;

        lfs_t lfs;
        lfs_format(&lfs, cfg) => 0;

        lfs_mount(&lfs, cfg) => 0;
        for (int i = 1; i < 10; i++) {
            uint8_t buffer[1024];
            for (int j = 0; j < NAMEMULT; j++) {
                buffer[j] = '0'+i;
            }
            buffer[NAMEMULT] = '\0';
            lfs_mkdir(&lfs, (char*)buffer) => 0;

            buffer[NAMEMULT] = '/';
            for (int j = 0; j < NAMEMULT; j++) {
                buffer[j+NAMEMULT+1] = '0'+i;
            }
            buffer[2*NAMEMULT+1] = '\0';
            lfs_file_t file;
            lfs_file_open(&lfs, &file, (char*)buffer,
                    LFS_O_WRONLY | LFS_O_CREAT) => 0;
            
            lfs_size_t size = NAMEMULT;
            for (int j = 0; j < i*FILEMULT; j++) {
                lfs_file_write(&lfs, &file, buffer, size) => size;
            }

            lfs_file_close(&lfs, &file) => 0;
        }
        lfs_unmount(&lfs) => 0;

        lfs_mount(&lfs, cfg) => 0;
        for (int i = 1; i < 10; i++) {
            uint8_t buffer[1024];
            for (int j = 0; j < NAMEMULT; j++) {
                buffer[j] = '0'+i;
            }
            buffer[NAMEMULT] = '\0';
            struct lfs_info info;
            lfs_stat(&lfs, (char*)buffer, &info) => 0;
            info.type => LFS_TYPE_DIR;

            buffer[NAMEMULT] = '/';
            for (int j = 0; j < NAMEMULT; j++) {
                buffer[j+NAMEMULT+1] = '0'+i;
            }
            buffer[2*NAMEMULT+1] = '\0';
            lfs_file_t file;
            lfs_file_open(&lfs, &file, (char*)buffer, LFS_O_RDONLY) => 0;
            
            int size = NAMEMULT;
            for (int j = 0; j < i*FILEMULT; j++) {
                uint8_t rbuffer[1024];
                lfs_file_read(&lfs, &file, rbuffer, size) => size;
                memcmp(buffer, rbuffer, size) => 0;
            }

            lfs_file_close(&lfs, &file) => 0;
        }
        lfs_unmount(&lfs) => 0;
    }
    #line 276 "tests/test_badblocks.t.a.c"
}

intmax_t __test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__0(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_PROGERROR;
}

intmax_t __test__test_badblocks_region_corruption__ERASE_COUNT__0(__attribute__((unused)) void *data) {
    return 256;
}

intmax_t __test__test_badblocks_region_corruption__ERASE_CYCLES__0(__attribute__((unused)) void *data) {
    return 4294967295;
}

intmax_t __test__test_badblocks_region_corruption__ERASE_VALUE__0(__attribute__((unused)) void *data) {
    return 0;
}

intmax_t __test__test_badblocks_region_corruption__FILEMULT__0(__attribute__((unused)) void *data) {
    return 1;
}

intmax_t __test__test_badblocks_region_corruption__NAMEMULT__0(__attribute__((unused)) void *data) {
    return 64;
}

intmax_t __test__test_badblocks_region_corruption__ERASE_VALUE__1(__attribute__((unused)) void *data) {
    return 255;
}

intmax_t __test__test_badblocks_region_corruption__ERASE_VALUE__2(__attribute__((unused)) void *data) {
    return -1;
}

intmax_t __test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__3(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_ERASEERROR;
}

intmax_t __test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__6(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_READERROR;
}

intmax_t __test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__9(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_PROGNOOP;
}

intmax_t __test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__12(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_ERASENOOP;
}

const test_define_t __test__test_badblocks_region_corruption__defines[][TEST_IMPLICIT_DEFINE_COUNT+6] = {
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__0, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_region_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_region_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_region_corruption__ERASE_VALUE__0, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_region_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_region_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__0, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_region_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_region_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_region_corruption__ERASE_VALUE__1, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_region_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_region_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__0, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_region_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_region_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_region_corruption__ERASE_VALUE__2, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_region_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_region_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__3, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_region_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_region_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_region_corruption__ERASE_VALUE__0, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_region_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_region_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__3, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_region_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_region_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_region_corruption__ERASE_VALUE__1, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_region_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_region_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__3, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_region_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_region_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_region_corruption__ERASE_VALUE__2, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_region_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_region_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__6, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_region_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_region_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_region_corruption__ERASE_VALUE__0, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_region_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_region_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__6, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_region_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_region_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_region_corruption__ERASE_VALUE__1, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_region_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_region_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__6, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_region_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_region_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_region_corruption__ERASE_VALUE__2, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_region_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_region_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__9, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_region_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_region_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_region_corruption__ERASE_VALUE__0, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_region_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_region_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__9, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_region_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_region_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_region_corruption__ERASE_VALUE__1, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_region_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_region_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__9, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_region_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_region_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_region_corruption__ERASE_VALUE__2, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_region_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_region_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__12, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_region_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_region_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_region_corruption__ERASE_VALUE__0, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_region_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_region_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__12, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_region_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_region_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_region_corruption__ERASE_VALUE__1, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_region_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_region_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_region_corruption__BADBLOCK_BEHAVIOR__12, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_region_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_region_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_region_corruption__ERASE_VALUE__2, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_region_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_region_corruption__NAMEMULT__0, NULL},
    },
};

bool __test__test_badblocks_region_corruption__filter(void) {
    return ((int32_t)BLOCK_CYCLES == -1);
}

void __test__test_badblocks_region_corruption__run(__attribute__((unused)) struct lfs_config *cfg) {
    // test case test_badblocks_region_corruption
    #line 98 "tests/test_badblocks.toml"
    for (lfs_block_t i = 0; i < (BLOCK_COUNT-2)/2; i++) {
        lfs_emubd_setwear(cfg, i+2, 0xffffffff) => 0;
    }

    lfs_t lfs;
    lfs_format(&lfs, cfg) => 0;

    lfs_mount(&lfs, cfg) => 0;
    for (int i = 1; i < 10; i++) {
        uint8_t buffer[1024];
        for (int j = 0; j < NAMEMULT; j++) {
            buffer[j] = '0'+i;
        }
        buffer[NAMEMULT] = '\0';
        lfs_mkdir(&lfs, (char*)buffer) => 0;

        buffer[NAMEMULT] = '/';
        for (int j = 0; j < NAMEMULT; j++) {
            buffer[j+NAMEMULT+1] = '0'+i;
        }
        buffer[2*NAMEMULT+1] = '\0';
        lfs_file_t file;
        lfs_file_open(&lfs, &file, (char*)buffer,
                LFS_O_WRONLY | LFS_O_CREAT) => 0;
        
        lfs_size_t size = NAMEMULT;
        for (int j = 0; j < i*FILEMULT; j++) {
            lfs_file_write(&lfs, &file, buffer, size) => size;
        }

        lfs_file_close(&lfs, &file) => 0;
    }
    lfs_unmount(&lfs) => 0;

    lfs_mount(&lfs, cfg) => 0;
    for (int i = 1; i < 10; i++) {
        uint8_t buffer[1024];
        for (int j = 0; j < NAMEMULT; j++) {
            buffer[j] = '0'+i;
        }
        buffer[NAMEMULT] = '\0';
        struct lfs_info info;
        lfs_stat(&lfs, (char*)buffer, &info) => 0;
        info.type => LFS_TYPE_DIR;

        buffer[NAMEMULT] = '/';
        for (int j = 0; j < NAMEMULT; j++) {
            buffer[j+NAMEMULT+1] = '0'+i;
        }
        buffer[2*NAMEMULT+1] = '\0';
        lfs_file_t file;
        lfs_file_open(&lfs, &file, (char*)buffer, LFS_O_RDONLY) => 0;
        
        lfs_size_t size = NAMEMULT;
        for (int j = 0; j < i*FILEMULT; j++) {
            uint8_t rbuffer[1024];
            lfs_file_read(&lfs, &file, rbuffer, size) => size;
            memcmp(buffer, rbuffer, size) => 0;
        }

        lfs_file_close(&lfs, &file) => 0;
    }
    lfs_unmount(&lfs) => 0;
    #line 520 "tests/test_badblocks.t.a.c"
}

intmax_t __test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__0(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_PROGERROR;
}

intmax_t __test__test_badblocks_alternating_corruption__ERASE_COUNT__0(__attribute__((unused)) void *data) {
    return 256;
}

intmax_t __test__test_badblocks_alternating_corruption__ERASE_CYCLES__0(__attribute__((unused)) void *data) {
    return 4294967295;
}

intmax_t __test__test_badblocks_alternating_corruption__ERASE_VALUE__0(__attribute__((unused)) void *data) {
    return 0;
}

intmax_t __test__test_badblocks_alternating_corruption__FILEMULT__0(__attribute__((unused)) void *data) {
    return 1;
}

intmax_t __test__test_badblocks_alternating_corruption__NAMEMULT__0(__attribute__((unused)) void *data) {
    return 64;
}

intmax_t __test__test_badblocks_alternating_corruption__ERASE_VALUE__1(__attribute__((unused)) void *data) {
    return 255;
}

intmax_t __test__test_badblocks_alternating_corruption__ERASE_VALUE__2(__attribute__((unused)) void *data) {
    return -1;
}

intmax_t __test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__3(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_ERASEERROR;
}

intmax_t __test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__6(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_READERROR;
}

intmax_t __test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__9(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_PROGNOOP;
}

intmax_t __test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__12(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_ERASENOOP;
}

const test_define_t __test__test_badblocks_alternating_corruption__defines[][TEST_IMPLICIT_DEFINE_COUNT+6] = {
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__0, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_alternating_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_VALUE__0, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_alternating_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_alternating_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__0, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_alternating_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_VALUE__1, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_alternating_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_alternating_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__0, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_alternating_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_VALUE__2, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_alternating_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_alternating_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__3, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_alternating_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_VALUE__0, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_alternating_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_alternating_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__3, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_alternating_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_VALUE__1, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_alternating_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_alternating_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__3, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_alternating_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_VALUE__2, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_alternating_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_alternating_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__6, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_alternating_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_VALUE__0, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_alternating_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_alternating_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__6, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_alternating_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_VALUE__1, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_alternating_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_alternating_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__6, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_alternating_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_VALUE__2, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_alternating_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_alternating_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__9, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_alternating_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_VALUE__0, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_alternating_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_alternating_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__9, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_alternating_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_VALUE__1, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_alternating_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_alternating_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__9, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_alternating_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_VALUE__2, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_alternating_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_alternating_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__12, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_alternating_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_VALUE__0, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_alternating_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_alternating_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__12, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_alternating_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_VALUE__1, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_alternating_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_alternating_corruption__NAMEMULT__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_alternating_corruption__BADBLOCK_BEHAVIOR__12, NULL},
        [ERASE_COUNT_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_COUNT__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_alternating_corruption__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_alternating_corruption__ERASE_VALUE__2, NULL},
        [FILEMULT_i              ] = {__test__test_badblocks_alternating_corruption__FILEMULT__0, NULL},
        [NAMEMULT_i              ] = {__test__test_badblocks_alternating_corruption__NAMEMULT__0, NULL},
    },
};

bool __test__test_badblocks_alternating_corruption__filter(void) {
    return ((int32_t)BLOCK_CYCLES == -1);
}

void __test__test_badblocks_alternating_corruption__run(__attribute__((unused)) struct lfs_config *cfg) {
    // test case test_badblocks_alternating_corruption
    #line 177 "tests/test_badblocks.toml"
    for (lfs_block_t i = 0; i < (BLOCK_COUNT-2)/2; i++) {
        lfs_emubd_setwear(cfg, (2*i) + 2, 0xffffffff) => 0;
    }

    lfs_t lfs;
    lfs_format(&lfs, cfg) => 0;

    lfs_mount(&lfs, cfg) => 0;
    for (int i = 1; i < 10; i++) {
        uint8_t buffer[1024];
        for (int j = 0; j < NAMEMULT; j++) {
            buffer[j] = '0'+i;
        }
        buffer[NAMEMULT] = '\0';
        lfs_mkdir(&lfs, (char*)buffer) => 0;

        buffer[NAMEMULT] = '/';
        for (int j = 0; j < NAMEMULT; j++) {
            buffer[j+NAMEMULT+1] = '0'+i;
        }
        buffer[2*NAMEMULT+1] = '\0';
        lfs_file_t file;
        lfs_file_open(&lfs, &file, (char*)buffer,
                LFS_O_WRONLY | LFS_O_CREAT) => 0;
        
        lfs_size_t size = NAMEMULT;
        for (int j = 0; j < i*FILEMULT; j++) {
            lfs_file_write(&lfs, &file, buffer, size) => size;
        }

        lfs_file_close(&lfs, &file) => 0;
    }
    lfs_unmount(&lfs) => 0;

    lfs_mount(&lfs, cfg) => 0;
    for (int i = 1; i < 10; i++) {
        uint8_t buffer[1024];
        for (int j = 0; j < NAMEMULT; j++) {
            buffer[j] = '0'+i;
        }
        buffer[NAMEMULT] = '\0';
        struct lfs_info info;
        lfs_stat(&lfs, (char*)buffer, &info) => 0;
        info.type => LFS_TYPE_DIR;

        buffer[NAMEMULT] = '/';
        for (int j = 0; j < NAMEMULT; j++) {
            buffer[j+NAMEMULT+1] = '0'+i;
        }
        buffer[2*NAMEMULT+1] = '\0';
        lfs_file_t file;
        lfs_file_open(&lfs, &file, (char*)buffer, LFS_O_RDONLY) => 0;
        
        lfs_size_t size = NAMEMULT;
        for (int j = 0; j < i*FILEMULT; j++) {
            uint8_t rbuffer[1024];
            lfs_file_read(&lfs, &file, rbuffer, size) => size;
            memcmp(buffer, rbuffer, size) => 0;
        }

        lfs_file_close(&lfs, &file) => 0;
    }
    lfs_unmount(&lfs) => 0;
    #line 764 "tests/test_badblocks.t.a.c"
}

intmax_t __test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__0(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_PROGERROR;
}

intmax_t __test__test_badblocks_superblocks__ERASE_CYCLES__0(__attribute__((unused)) void *data) {
    return 4294967295;
}

intmax_t __test__test_badblocks_superblocks__ERASE_VALUE__0(__attribute__((unused)) void *data) {
    return 0;
}

intmax_t __test__test_badblocks_superblocks__ERASE_VALUE__1(__attribute__((unused)) void *data) {
    return 255;
}

intmax_t __test__test_badblocks_superblocks__ERASE_VALUE__2(__attribute__((unused)) void *data) {
    return -1;
}

intmax_t __test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__3(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_ERASEERROR;
}

intmax_t __test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__6(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_READERROR;
}

intmax_t __test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__9(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_PROGNOOP;
}

intmax_t __test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__12(__attribute__((unused)) void *data) {
    return LFS_EMUBD_BADBLOCK_ERASENOOP;
}

const test_define_t __test__test_badblocks_superblocks__defines[][TEST_IMPLICIT_DEFINE_COUNT+6] = {
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_superblocks__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_superblocks__ERASE_VALUE__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_superblocks__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_superblocks__ERASE_VALUE__1, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__0, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_superblocks__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_superblocks__ERASE_VALUE__2, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__3, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_superblocks__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_superblocks__ERASE_VALUE__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__3, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_superblocks__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_superblocks__ERASE_VALUE__1, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__3, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_superblocks__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_superblocks__ERASE_VALUE__2, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__6, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_superblocks__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_superblocks__ERASE_VALUE__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__6, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_superblocks__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_superblocks__ERASE_VALUE__1, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__6, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_superblocks__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_superblocks__ERASE_VALUE__2, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__9, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_superblocks__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_superblocks__ERASE_VALUE__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__9, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_superblocks__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_superblocks__ERASE_VALUE__1, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__9, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_superblocks__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_superblocks__ERASE_VALUE__2, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__12, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_superblocks__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_superblocks__ERASE_VALUE__0, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__12, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_superblocks__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_superblocks__ERASE_VALUE__1, NULL},
    },
    {
        [BADBLOCK_BEHAVIOR_i     ] = {__test__test_badblocks_superblocks__BADBLOCK_BEHAVIOR__12, NULL},
        [ERASE_CYCLES_i          ] = {__test__test_badblocks_superblocks__ERASE_CYCLES__0, NULL},
        [ERASE_VALUE_i           ] = {__test__test_badblocks_superblocks__ERASE_VALUE__2, NULL},
    },
};

bool __test__test_badblocks_superblocks__filter(void) {
    return ((int32_t)BLOCK_CYCLES == -1);
}

void __test__test_badblocks_superblocks__run(__attribute__((unused)) struct lfs_config *cfg) {
    // test case test_badblocks_superblocks
    #line 254 "tests/test_badblocks.toml"
    lfs_emubd_setwear(cfg, 0, 0xffffffff) => 0;
    lfs_emubd_setwear(cfg, 1, 0xffffffff) => 0;

    lfs_t lfs;
    lfs_format(&lfs, cfg) => LFS_ERR_NOSPC;
    lfs_mount(&lfs, cfg) => LFS_ERR_CORRUPT;
    #line 894 "tests/test_badblocks.t.a.c"
}

__attribute__((section("_test_suites"), aligned(1)))
const struct test_suite __test__test_badblocks__suite = {
    .name = "test_badblocks",
    .path = "tests/test_badblocks.toml",
    .flags = 0,
    .define_names = (const char *const[TEST_IMPLICIT_DEFINE_COUNT+6]){
        [BADBLOCK_BEHAVIOR_i     ] = "BADBLOCK_BEHAVIOR",
        [ERASE_COUNT_i           ] = "ERASE_COUNT",
        [ERASE_CYCLES_i          ] = "ERASE_CYCLES",
        [ERASE_VALUE_i           ] = "ERASE_VALUE",
        [FILEMULT_i              ] = "FILEMULT",
        [NAMEMULT_i              ] = "NAMEMULT",
    },
    .define_count = TEST_IMPLICIT_DEFINE_COUNT+6,
    .cases = (const struct test_case[]){
        {
            .name = "test_badblocks_single",
            .path = "tests/test_badblocks.toml:4",
            .flags = 0,
            .permutations = 15,
            .defines = (const test_define_t*)__test__test_badblocks_single__defines,
            .filter = __test__test_badblocks_single__filter,
            .run = __test__test_badblocks_single__run,
        },
        {
            .name = "test_badblocks_region_corruption",
            .path = "tests/test_badblocks.toml:84",
            .flags = 0,
            .permutations = 15,
            .defines = (const test_define_t*)__test__test_badblocks_region_corruption__defines,
            .filter = __test__test_badblocks_region_corruption__filter,
            .run = __test__test_badblocks_region_corruption__run,
        },
        {
            .name = "test_badblocks_alternating_corruption",
            .path = "tests/test_badblocks.toml:163",
            .flags = 0,
            .permutations = 15,
            .defines = (const test_define_t*)__test__test_badblocks_alternating_corruption__defines,
            .filter = __test__test_badblocks_alternating_corruption__filter,
            .run = __test__test_badblocks_alternating_corruption__run,
        },
        {
            .name = "test_badblocks_superblocks",
            .path = "tests/test_badblocks.toml:243",
            .flags = 0,
            .permutations = 15,
            .defines = (const test_define_t*)__test__test_badblocks_superblocks__defines,
            .filter = __test__test_badblocks_superblocks__filter,
            .run = __test__test_badblocks_superblocks__run,
        },
    },
    .case_count = 4,
};

